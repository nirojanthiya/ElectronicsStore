(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{109:function(e,t,r){},110:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r(24),n=r.n(c),s=r(5),o=r(40),d=r(73),i=r(74),l=r(3),u="PRODUCTS_LIST_REQUEST",j="PRODUCTS_LIST_SUCCESS",b="PRODUCTS_LIST_FAIL",p="PRODUCT_DETAILS_REQUEST",O="PRODUCT_DETAILS_SUCCESS",h="PRODUCT_DETAILS_FAIL",x="CREATE_PRODUCT_REQUEST",m="CREATE_PRODUCT_SUCCESS",f="CREATE_PRODUCT_FAIL",y="CREATE_PRODUCT_RESET",g="UPDATE_PRODUCT_REQUEST",v="UPDATE_PRODUCT_SUCCESS",C="UPDATE_PRODUCT_FAIL",S="UPDATE_PRODUCT_RESET",E="DELETE_PRODUCT_REQUEST",_="DELETE_PRODUCT_SUCCESS",R="DELETE_PRODUCT_FAIL",A="DELETE_PRODUCT_RESET",N="CHECK_TOKEN_VALID_REQUEST",L="CHECK_TOKEN_VALID_SUCCESS",k="CHECK_TOKEN_VALID_FAIL",w="CHECK_TOKEN_VALID_RESET",D="CARD_CREATE_REQUEST",T="CARD_CREATE_SUCCESS",I="CARD_CREATE_FAIL",U="CARD_CREATE_RESET",P="CHARGE_CARD_REQUEST",G="CHARGE_CARD_SUCCESS",V="CHARGE_CARD_FAIL",F="CHARGE_CARD_RESET",B="SAVED_CARDS_LIST_REQUEST",H="SAVED_CARDS_LIST_SUCCESS",z="SAVED_CARDS_LIST_FAIL",q="DELETE_SAVED_CARD_REQUEST",X="DELETE_SAVED_CARD_SUCCESS",Q="DELETE_SAVED_CARD_FAIL",Y="UPDATE_STRIPE_CARD_REQUEST",M="UPDATE_STRIPE_CARD_SUCCESS",J="UPDATE_STRIPE_CARD_FAIL",K="UPDATE_STRIPE_CARD_RESET",W="USER_LOGIN_REQUEST",Z="USER_LOGIN_SUCCESS",$="USER_LOGIN_FAIL",ee="USER_LOGOUT",te="USER_REGISTER_REQUEST",re="USER_REGISTER_SUCCESS",ae="USER_REGISTER_FAIL",ce="USER_DETAILS_REQUEST",ne="USER_DETAILS_SUCCESS",se="USER_DETAILS_FAIL",oe="UPDATE_USER_DETAILS_REQUEST",de="UPDATE_USER_DETAILS_SUCCESS",ie="UPDATE_USER_DETAILS_FAIL",le="UPDATE_USER_DETAILS_RESET",ue="DELETE_USER_ACCOUNT_REQUEST",je="DELETE_USER_ACCOUNT_SUCCESS",be="DELETE_USER_ACCOUNT_FAIL",pe="DELETE_USER_ACCOUNT_RESET",Oe="GET_USER_ALL_ADDRESSES_REQUEST",he="GET_USER_ALL_ADDRESSES_SUCCESS",xe="GET_USER_ALL_ADDRESSES_FAIL",me="GET_SINGLE_ADDRESS_REQUEST",fe="GET_SINGLE_ADDRESS_SUCCESS",ye="GET_SINGLE_ADDRESS_FAIL",ge="GET_SINGLE_ADDRESS_RESET",ve="CREATE_USER_ADDRESS_REQUEST",Ce="CREATE_USER_ADDRESS_SUCCESS",Se="CREATE_USER_ADDRESS_FAIL",Ee="CREATE_USER_ADDRESS_RESET",_e="UPDATE_USER_ADDRESS_REQUEST",Re="UPDATE_USER_ADDRESS_SUCCESS",Ae="UPDATE_USER_ADDRESS_FAIL",Ne="UPDATE_USER_ADDRESS_RESET",Le="DELETE_USER_ADDRESS_REQUEST",ke="DELETE_USER_ADDRESS_SUCCESS",we="DELETE_USER_ADDRESS_FAIL",De="DELETE_USER_ADDRESS_RESET",Te="GET_ALL_ORDERS_REQUEST",Ie="GET_ALL_ORDERS_SUCCESS",Ue="GET_ALL_ORDERS_FAIL",Pe="CHANGE_DELIVERY_STATUS_REQUEST",Ge="CHANGE_DELIVERY_STATUS_SUCCESS",Ve="CHANGE_DELIVERY_STATUS_FAIL",Fe="CHANGE_DELIVERY_STATUS_RESET",Be=Object(o.combineReducers)({productsListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,products:[],error:""});case j:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,products:t.payload,error:""});case b:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,product:{},error:""});case O:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,product:t.payload,error:""});case h:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.payload});default:return e}},createProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,product:{},success:!1,error:""});case m:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,product:t.payload,error:""});case f:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,product:{},error:t.payload});case y:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,product:{},error:""});default:return e}},updateProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,product:{},success:!1,error:""});case v:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,product:t.payload,error:""});case C:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,product:{},error:t.payload});case S:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,product:{},error:""});default:return e}},deleteProductReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case _:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,error:""});case R:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});case A:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:""});default:return e}},createCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,cardData:{},success:!1,error:""});case T:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,cardData:t.payload,error:""});case I:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,cardData:{},success:!1,error:t.payload});case U:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,cardData:{},error:""});default:return e}},chargeCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case G:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,error:""});case V:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});case F:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:""});default:return e}},savedCardsListReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stripeCards:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case H:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,stripeCards:t.payload,error:""});case z:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});default:return e}},updateStripeCardtReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0,success:!1,stripeCard:{},error:""};case M:return{loading:!1,success:!0,stripeCard:t.payload,error:""};case J:return{loading:!1,success:!1,stripeCard:{},error:t.payload};case K:return{loading:!1,success:!1,stripeCard:{},error:""};default:return e}},deleteSavedCardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,error:""});case X:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,data:t.payload,error:""});case Q:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,error:t.payload});default:return e}},userLoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case Z:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,userInfo:t.payload});case $:return{loading:!1,error:t.payload};case ee:return{};default:return e}},userRegisterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case re:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,userInfo:t.payload});case ae:return{loading:!1,error:t.payload};case ee:return{};default:return e}},getSingleAddressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,address:{},success:!1,error:""});case fe:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,address:t.payload,success:!0,error:""});case ye:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,address:{},success:!1,error:t.payload});case ge:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,address:{},success:!1,error:""});default:return e}},getAllAddressesOfUserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,addresses:[],success:!1,error:""});case he:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,addresses:t.payload,success:!0,error:""});case xe:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,addresses:[],success:!1,error:t.payload});default:return e}},createUserAddressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,address:{},success:!1,error:""});case Ce:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,address:t.payload,success:!0,error:""});case Se:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,address:{},error:t.payload});case Ee:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,address:{},error:""});default:return e}},updateUserAddressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case Re:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,error:""});case Ae:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});case Ne:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:""});default:return e}},deleteUserAddressReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case ke:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,error:""});case we:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});case De:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:""});default:return e}},getAllOrdersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,orders:[],error:""});case Ie:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,orders:t.payload,error:""});case Ue:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,orders:[],error:t.payload});default:return e}},changeDeliveryStatusReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case Ge:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,error:""});case Ve:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});case Fe:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:""});default:return e}},checkTokenValidationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,valid:!1,error:""});case L:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,valid:!0,error:""});case k:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,valid:!1,error:t.payload});case w:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,valid:!1,error:""});default:return e}},userDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,user:{},error:""});case ne:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,user:t.payload,error:""});case se:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,user:{},error:t.payload});default:return e}},userDetailsUpdateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,user:{},success:!1,error:""});case de:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,user:t.payload,error:""});case ie:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,user:{},error:t.payload});case le:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,user:{},error:""});default:return e}},deleteUserAccountReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(l.a)(Object(l.a)({},e),{},{loading:!0,success:!1,error:""});case je:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!0,error:""});case be:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:t.payload});case pe:return Object(l.a)(Object(l.a)({},e),{},{loading:!1,success:!1,error:""});default:return e}}}),He=[i.a],ze={userLoginReducer:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},qe=Object(o.createStore)(Be,ze,Object(d.composeWithDevTools)(o.applyMiddleware.apply(void 0,He))),Xe=r(11),Qe=r(17),Ye=r(10),Me=r.n(Ye),Je=r(15),Ke=r(16),We=r.n(Ke),Ze=function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r){var a,c;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:p}),t.next=4,We.a.get("/api/product/".concat(e,"/"));case 4:a=t.sent,c=a.data,r({type:O,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:h,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},$e=r(115),et=r(0);var tt=function(e){var t=e.variant,r=e.children;return Object(et.jsx)($e.a,{variant:t,children:r})},rt=r(116),at=r(117),ct=r(75),nt=r(127);var st=function(e){var t=e.product;return Object(et.jsx)("div",{children:Object(et.jsx)(nt.a,{className:"mb-4 rounded",children:Object(et.jsxs)(nt.a.Body,{children:[Object(et.jsx)(Xe.Link,{to:"/product/".concat(t.id),children:Object(et.jsx)(nt.a.Img,{variant:"top",src:t.image,height:"162"})}),Object(et.jsx)(Xe.Link,{to:"/product/".concat(t.id),children:Object(et.jsx)(nt.a.Title,{as:"div",children:Object(et.jsx)("strong",{children:t.name})})}),Object(et.jsxs)(nt.a.Text,{as:"h3",children:["\u20b9 ",t.price]})]})})})};var ot=function(){var e=Object(Qe.k)().location.search,t=Object(s.b)(),r=Object(s.c)((function(e){return e.productsListReducer})),c=r.loading,n=r.error,o=r.products;return Object(a.useEffect)((function(){t(function(){var e=Object(Je.a)(Me.a.mark((function e(t){var r,a;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:u}),e.next=4,We.a.get("/api/products/");case 4:r=e.sent,a=r.data,t({type:j,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:b,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),t({type:y})}),[t]),Object(et.jsxs)("div",{children:[n&&Object(et.jsx)(tt,{variant:"danger",children:n}),c&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting Products"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),Object(et.jsx)("div",{children:Object(et.jsx)(at.a,{children:0===o.filter((function(t){return t.name.toLowerCase().includes(""!==e?e.split("=")[1]:"")})).length?Object(et.jsx)("div",{children:c?"":Object(et.jsx)(tt,{variant:"info",children:"Nothing to show"})}):o.filter((function(t){return t.name.toLowerCase().includes(""!==e?e.split("=")[1]:"")})).map((function(e,t){return Object(et.jsx)(ct.a,{sm:12,md:6,lg:4,xl:3,children:Object(et.jsx)("div",{className:"mx-2",children:Object(et.jsx)(st,{product:e})})},e.id)}))})})]})},dt=r(6),it=r(123),lt=r(76),ut=r(118);var jt=function(e){var t=e.history,r=e.match,c=Object(s.b)(),n=Object(a.useState)(!1),o=Object(dt.a)(n,2),d=o[0],i=o[1],l=function(){return i(!1)},u=Object(s.c)((function(e){return e.productDetailsReducer})),j=u.loading,b=u.error,p=u.product,O=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,h=Object(s.c)((function(e){return e.deleteProductReducer})).success;Object(a.useEffect)((function(){c(Ze(r.params.id)),c({type:S}),c({type:y}),c({type:U})}),[c,r]);var x=function(){var e;c((e=r.params.id,function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:E}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.delete("/api/product-delete/".concat(e,"/"),s);case 6:o=t.sent,d=o.data,r({type:_,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:R,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}())),l()};return h&&(alert("Product successfully deleted."),t.push("/"),c({type:A})),Object(et.jsxs)("div",{children:[Object(et.jsx)("div",{children:Object(et.jsxs)(it.a,{show:d,onHide:l,children:[Object(et.jsx)(it.a.Header,{closeButton:!0,children:Object(et.jsxs)(it.a.Title,{children:[Object(et.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(et.jsxs)(it.a.Body,{children:["Are you sure you want to delete this product ",Object(et.jsxs)("em",{children:['"',p.name,'"']}),"?"]}),Object(et.jsxs)(it.a.Footer,{children:[Object(et.jsx)(lt.a,{variant:"danger",onClick:function(){return x()},children:"Confirm Delete"}),Object(et.jsx)(lt.a,{variant:"primary",onClick:l,children:"Cancel"})]})]})}),j&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting Product Details"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),b?Object(et.jsx)(tt,{variant:"danger",children:b}):Object(et.jsx)("div",{children:Object(et.jsx)(ut.a,{children:Object(et.jsxs)(at.a,{children:[Object(et.jsxs)(ct.a,{md:6,children:[Object(et.jsx)(nt.a.Img,{variant:"top",src:p.image,height:"420"}),O&&O.admin?Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("button",{className:"btn mt-2 btn-danger btn-sm button-focus-css",style:{width:"100%"},onClick:function(){return i(!0)},children:"Delete Product"}),Object(et.jsx)("button",{className:"ml-2 mt-2 btn btn-primary btn-sm button-focus-css",onClick:function(){return t.push("/product-update/".concat(p.id,"/"))},style:{width:"100%"},children:"Edit Product"})]}):""]}),Object(et.jsxs)(ct.a,{sm:!0,children:[Object(et.jsx)("b",{children:p.name}),Object(et.jsx)("hr",{}),Object(et.jsx)("span",{className:"justify-description-css",children:Object(et.jsx)("p",{children:p.description})}),Object(et.jsxs)("span",{style:{display:"flex",justifyContent:"center",border:"1px solid",borderColor:"#C6ACE7",padding:"2px"},children:["Price:",Object(et.jsxs)("span",{className:"text-success ml-2",children:["\u20b9 ",p.price]})]})]}),Object(et.jsxs)(ct.a,{sm:!0,children:[Object(et.jsx)("b",{children:"Buy"}),Object(et.jsx)("hr",{}),p.stock?Object(et.jsx)(Xe.Link,{to:"".concat(p.id,"/checkout/"),children:Object(et.jsx)("button",{className:"btn btn-primary",children:Object(et.jsx)("span",{children:"Pay with Stripe"})})}):Object(et.jsx)(tt,{variant:"danger",children:"Out Of Stock!"})]})]})})})]})},bt=r(119),pt=r(124),Ot=function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:D}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token),"Card-Number":e.cardNumber}},t.next=6,We.a.post("/payments/create-card/",{email:e.email,number:e.cardNumber,exp_month:e.expMonth,exp_year:e.expYear,cvc:e.cvc,save_card:e.saveCard},s);case 6:o=t.sent,d=o.data,r({type:T,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:I,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},ht=function(){return function(){var e=Object(Je.a)(Me.a.mark((function e(t,r){var a,c,n,s,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:B}),a=r(),c=a.userLoginReducer.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,We.a.get("/account/stripe-cards/",n);case 6:s=e.sent,o=s.data,t({type:H,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:z,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()};var xt=function(e){e.userId;var t=e.deleteCardNumber,r=e.runCardDeleteHandler,a=e.toggleRunCardDeleteHandler,c=Object(s.b)(),n=function(e){var t;c((t=e,function(){var e=Object(Je.a)(Me.a.mark((function e(r,a){var c,n,s,o,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:q}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,We.a.post("/payments/delete-card/",{card_number:t},s);case 6:o=e.sent,d=o.data,r({type:X,payload:d}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:Q,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())),a()};return Object(et.jsx)("div",{children:Object(et.jsx)("div",{children:Object(et.jsxs)(it.a,{show:r,onHide:a,children:[Object(et.jsx)(it.a.Header,{closeButton:!0,children:Object(et.jsxs)(it.a.Title,{children:[Object(et.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(et.jsxs)(it.a.Body,{children:[Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Warning!"})," ","deleting your card will delete your stripe account and all its data."]}),'Are you sure you want to delete the card "',t,'"?']}),Object(et.jsxs)(it.a.Footer,{children:[Object(et.jsx)(lt.a,{variant:"danger",onClick:function(){return n(t)},children:"Confirm Delete"}),Object(et.jsx)(lt.a,{variant:"primary",onClick:a,children:"Cancel"})]})]})})})},mt=(new Date).getFullYear(),ft=function(e){var t=e.stripeCards,r=e.addressSelected,c=Object(Qe.k)(),n=Object(s.b)(),o=Object(a.useState)(0),d=Object(dt.a)(o,1)[0],i=Object(a.useState)(!1),l=Object(dt.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(!1),p=Object(dt.a)(b,2),O=p[0],h=p[1],x=Object(a.useState)(!1),m=Object(dt.a)(x,2),f=m[0],y=m[1],g=Object(a.useState)(0),v=Object(dt.a)(g,2),C=v[0],S=v[1],E=Object(a.useState)(!1),_=Object(dt.a)(E,2),R=_[0],A=_[1],N=Object(a.useState)(""),L=Object(dt.a)(N,1)[0],k=Object(a.useState)(""),w=Object(dt.a)(k,2),D=w[0],T=w[1],I=Object(a.useState)(""),U=Object(dt.a)(I,2),P=U[0],G=U[1],V=Object(a.useState)(""),F=Object(dt.a)(V,2),B=F[0],H=F[1],z=Object(a.useState)(""),q=Object(dt.a)(z,2),X=q[0],Q=q[1],Y=Object(a.useState)(""),M=Object(dt.a)(Y,2),J=M[0],K=M[1],W=Object(a.useState)(!1),Z=Object(dt.a)(W,2),$=Z[0],ee=Z[1],te=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,re=Object(s.c)((function(e){return e.deleteSavedCardReducer})),ae=re.loading,ce=re.success,ne=re.error;Object(a.useEffect)((function(){te||c.push("/login")}),[c,te,ce]);var se=function(e){if(f&&e.id===C)return Object(et.jsxs)("div",{children:[Object(et.jsx)("button",{onClick:function(){return y(!1)},className:"btn btn-outline-danger btn-sm button-focus-css",style:{float:"right",position:"relative",top:"-40px"},children:"close"}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Exp Month:"})," ",e.exp_month]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Exp Year:"})," ",e.exp_year]})]})};return ce&&(alert("Card successfully deleted."),window.location.reload()),Object(et.jsxs)("div",{children:[Object(et.jsx)("div",{children:Object(et.jsx)(et.Fragment,{children:Object(et.jsx)(xt,{userId:d,deleteCardNumber:L,runCardDeleteHandler:u,toggleRunCardDeleteHandler:function(){j(!u)}})})}),ae&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Deleting card"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),ne&&Object(et.jsx)(tt,{variant:"danger",children:ne}),Object(et.jsxs)("div",{className:"card px-4 py-4",children:[Object(et.jsx)("button",{className:R?"btn btn-sm btn-danger mb-3 button-focus-css":"btn btn-sm btn-primary mb-3 button-focus-css",onClick:function(){return A(!R)},children:R?"close":"Enter stripe card"}),R?Object(et.jsxs)(pt.a,{onSubmit:function(e){if(e.preventDefault(),r){var t={email:""===D?te.email:D,cardNumber:P,expMonth:B?Number(B):"",expYear:X?Number(X):"",cvc:J?Number(J):"",saveCard:$};n(Ot(t))}else alert("Please select or add your Address to continue")},children:[O?Object(et.jsxs)(pt.a.Group,{children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Card Holder Email Address"})}),Object(et.jsx)(pt.a.Control,{autoFocus:!0,type:"email",pattern:".+@gmail\\.com",value:D,onChange:function(e){return T(e.target.value)},placeholder:"Email address linked with the Card"})]}):Object(et.jsxs)("span",{children:[Object(et.jsx)("b",{children:"Default Customer Email: "}),te.email]}),Object(et.jsx)("p",{children:Object(et.jsx)(Xe.Link,{to:"#",onClick:function(){h(!O),T("")},children:O?"Use Your default Email":"Use a different Card"})}),Object(et.jsxs)(pt.a.Group,{className:"mb-3",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Card Number"})}),Object(et.jsx)(pt.a.Control,{type:"text",pattern:"[0-9]+",value:P,onChange:function(e){return G(e.target.value)},placeholder:"Enter Your Card Number",maxLength:"16",required:!0})]}),Object(et.jsxs)(at.a,{children:[Object(et.jsx)(ct.a,{children:Object(et.jsxs)(pt.a.Group,{className:"mb-3",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Exp Month"})}),Object(et.jsxs)("select",{className:"form-control",defaultValue:B,onChange:function(e){return H(e.target.value)},required:!0,children:[Object(et.jsx)("option",{children:"-- --"}),Array.from({length:12},(function(e,t){return Object(et.jsx)("option",{children:t+1},t)}))]})]})}),Object(et.jsx)(ct.a,{children:Object(et.jsxs)(pt.a.Group,{className:"mb-3",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Exp Year"})}),Object(et.jsxs)("select",{className:"form-control",defaultValue:X,onChange:function(e){return Q(e.target.value)},required:!0,children:[Object(et.jsx)("option",{children:"-- --"}),Array.from({length:21},(function(e,t){return Object(et.jsx)("option",{children:mt+t},t)}))]})]})}),Object(et.jsx)(ct.a,{children:Object(et.jsxs)(pt.a.Group,{className:"mb-3",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"CVC Number"})}),Object(et.jsx)(pt.a.Control,{type:"numbers",onChange:function(e){return K(e.target.value)},placeholder:"123",maxLength:"3",pattern:"[0-9]+",required:!0})]})})]}),Object(et.jsx)(pt.a.Text,{className:"text-muted pb-2",children:Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("input",{hidden:O,type:"checkbox",className:"mt-1",value:!O&&$,onChange:function(){return ee(!$)}}),Object(et.jsx)("span",{hidden:O,className:"ml-1",children:"Save my card for future payments"})]})}),Object(et.jsx)(lt.a,{className:"btn-sm button-focus-css",variant:"primary",type:"submit",children:"Submit"})]}):""]}),Object(et.jsxs)("div",{className:"my-4 card px-4 py-4",children:[Object(et.jsx)("h5",{children:"Saved card"}),t.length>0?t.map((function(e){return Object(et.jsxs)("div",{children:[Object(et.jsxs)(nt.a,{style:{border:"1px solid",borderColor:"#C6ACE7"},className:"p-2",children:[Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Card Number:"})," XXXX XXXX XXXX ",e.card_number.slice(12,18)]}),Object(et.jsxs)("div",{children:[se(e),Object(et.jsx)("button",{onClick:function(){y(!0),S(e.id)},className:"btn btn-sm btn-outline-primary button-focus-css",children:"Show Card Details"}),Object(et.jsx)("button",{onClick:function(){return function(e){if(r){var t={email:e.email,cardNumber:e.card_number,expMonth:Number(e.exp_month),expYear:Number(e.exp_year),cvc:Number(e.cvc),saveCard:!1};n(Ot(t))}else alert("Please select or add your Address to continue")}(e)},className:"ml-2 btn btn-sm btn-outline-primary button-focus-css",children:"Pay with this Card"})]})]}),Object(et.jsx)("span",{onClick:function(){return c.push("/stripe-card-details/")},children:Object(et.jsx)("i",{title:"edit card",className:"fas fa-edit fa-lg edit-button-css mr-2"})})]},e.id)})):"No saved card."]})]})},yt=function(){return function(e){localStorage.removeItem("userInfo"),e({type:ee}),e({type:U})}},gt=function(){return function(){var e=Object(Je.a)(Me.a.mark((function e(t,r){var a,c,n,s,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),a=r(),c=a.userLoginReducer.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,We.a.get("/payments/check-token/",n);case 6:s=e.sent,o=s.data,t({type:L,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:k,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},vt=function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ce}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.get("/account/user/".concat(e),s);case 6:o=t.sent,d=o.data,r({type:ne,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:se,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},Ct=function(){return function(){var e=Object(Je.a)(Me.a.mark((function e(t,r){var a,c,n,s,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe}),a=r(),c=a.userLoginReducer.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,We.a.get("/account/all-address-details/",n);case 6:s=e.sent,o=s.data,t({type:he,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:xe,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},St=function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:me}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.get("/account/address-details/".concat(e,"/"),s);case 6:o=t.sent,d=o.data,r({type:fe,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ye,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},Et=function(){return function(){var e=Object(Je.a)(Me.a.mark((function e(t,r){var a,c,n,s,o;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Te}),a=r(),c=a.userLoginReducer.userInfo,n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,We.a.get("/account/all-orders-list/",n);case 6:s=e.sent,o=s.data,t({type:Ie,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ue,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},_t=function(e){var t=e.product,r=e.match,c=e.selectedAddressId,n=(e.addressSelected,Object(Qe.k)()),o=Object(s.b)(),d=Object(s.c)((function(e){return e.createCardReducer})).cardData,i=Object(s.c)((function(e){return e.chargeCardReducer})),l=i.success,u=i.error,j=i.loading,b=Object(s.c)((function(e){return e.getSingleAddressReducer})).address;Object(a.useEffect)((function(){o(St(c))}),[o,r,c]);return l&&(n.push({pathname:"/payment-status/",state:{detail:t}}),window.location.reload()),Object(et.jsxs)("div",{children:[u?Object(et.jsx)(tt,{variant:"danger",children:u}):"",Object(et.jsx)("span",{className:"text-info",children:Object(et.jsx)("h5",{children:"Confirm payment"})}),Object(et.jsxs)("div",{className:"mb-2",children:["Using Card: XXXX XXXX XXXX ",d.card_data.last4]}),Object(et.jsx)(pt.a,{onSubmit:function(e){e.preventDefault();var r="".concat(b.house_no,", near ").concat(b.landmark,", ").concat(b.city,", \n        ").concat(b.state,", ").concat(b.pin_code),a={email:d.email,source:d.id,amount:t.price,name:b.name,card_number:d.card_data.last4,address:r,ordered_item:t.name,paid_status:!0,total_price:t.price,is_delivered:!1,delivered_at:"Not Delivered"};o(function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:P}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.post("/payments/charge-customer/",e,s);case 6:o=t.sent,d=o.data,r({type:G,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:V,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(a))},children:j?Object(et.jsxs)(lt.a,{variant:"primary",disabled:!0,style:{width:"100%"},children:[Object(et.jsx)(rt.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"})," ","Processing Payment..."]}):Object(et.jsxs)(lt.a,{variant:"primary",type:"submit",style:{width:"100%"},children:["Pay \u20b9",t.price]})}),Object(et.jsx)(nt.a,{className:"p-2 mt-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:b?Object(et.jsxs)("div",{children:[Object(et.jsx)("span",{className:"text-info",children:Object(et.jsx)("b",{children:Object(et.jsx)("em",{children:"Will be delievered at this address"})})}),Object(et.jsx)("p",{}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Name: "}),b?b.name:""]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Phone Number: "}),b?b.phone_number:""]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"House Number: "}),b?b.house_no:""]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Landmark: "}),b?b.landmark:""]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"City: "}),b?b.city:""]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"State: "}),b?b.state:""]}),Object(et.jsxs)("p",{children:[Object(et.jsx)("b",{children:"Pin Code/Zip Code: "}),b?b.pin_code:""]})]}):""}),Object(et.jsx)(Xe.Link,{to:"#",onClick:function(){return window.location.reload()},children:"Select a different card to pay"})]})};var Rt=function(e){var t=e.handleAddressId,r=Object(Qe.k)(),c=Object(s.b)(),n=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,o=Object(s.c)((function(e){return e.getAllAddressesOfUserReducer})).addresses;return Object(a.useEffect)((function(){n?c(Ct()):r.push("/login")}),[c,r,n]),Object(et.jsx)("div",{children:o?o.map((function(e,r){return Object(et.jsx)("div",{children:Object(et.jsxs)(nt.a,{className:"p-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:[Object(et.jsx)("input",{type:"radio",name:"addressId",value:0,onClick:function(){return r=e.id,void t(r);var r}}),Object(et.jsxs)("span",{children:[Object(et.jsx)("b",{children:"Name: "}),e.name]}),Object(et.jsxs)("span",{children:[Object(et.jsx)("b",{children:"Address: "}),e.house_no,", ",e.landmark,", ",e.city,",",e.state,", ",e.pin_code]})]},e.id)},r)})):"empty"})},At=function(e){var t=e.match,r=Object(Qe.k)(),c=Object(s.b)(),n=Object(a.useState)(!1),o=Object(dt.a)(n,2),d=o[0],i=o[1],l=Object(a.useState)(0),u=Object(dt.a)(l,2),j=u[0],b=u[1],p=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,O=Object(s.c)((function(e){return e.productDetailsReducer})),h=O.loading,x=O.error,m=O.product,f=Object(s.c)((function(e){return e.createCardReducer})),y=f.error,g=f.success,v=f.loading,C=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,S=Object(s.c)((function(e){return e.savedCardsListReducer})).stripeCards;return Object(a.useEffect)((function(){C?(c(gt()),c(Ze(t.params.id)),c(ht()),c({type:F})):r.push("/login")}),[c,t,r,g,C]),C&&"Request failed with status code 401"===p&&(alert("Session expired, please login again."),c(yt()),r.push("/login"),window.location.reload()),Object(et.jsxs)("div",{children:[y?Object(et.jsx)(tt,{variant:"danger",children:y}):"",h&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting Checkout Info"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),!h&&v?Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Checking your card"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}):"",x?Object(et.jsx)(tt,{variant:"danger",children:x}):Object(et.jsx)(ut.a,{children:Object(et.jsxs)(at.a,{children:[Object(et.jsxs)(ct.a,{xs:6,children:[Object(et.jsx)("h3",{children:"Checkout Summary"}),Object(et.jsx)(nt.a,{className:"mb-4",children:Object(et.jsx)(nt.a.Body,{children:Object(et.jsx)(ut.a,{children:Object(et.jsxs)(at.a,{children:[Object(et.jsx)(ct.a,{children:Object(et.jsx)(bt.a,{src:m.image,alt:"image",height:"180"})}),Object(et.jsxs)(ct.a,{children:[Object(et.jsx)("h5",{className:"card-title text-capitalize",children:m.name}),Object(et.jsxs)("span",{className:"card-text text-success",children:["\u20b9 ",m.price]})]})]})})})}),Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h3",{children:"Billing Address"}),Object(et.jsx)(Xe.Link,{className:"ml-2 mt-2",to:"/all-addresses/",children:"Edit/Add Address"})]}),Object(et.jsx)(Rt,{handleAddressId:function(e){e&&i(!0),b(e)}})]}),Object(et.jsxs)(ct.a,{xs:6,children:[Object(et.jsx)("h3",{children:"Payments Section"}),g?Object(et.jsx)(_t,{selectedAddressId:j,addressSelected:d,product:m}):Object(et.jsx)(ft,{addressSelected:d,stripeCards:S})]})]})})]})},Nt=r(125),Lt=r(126),kt=r(122),wt=r(32);var Dt=function(){var e=Object(Qe.k)(),t=Object(a.useState)(""),r=Object(dt.a)(t,2),c=r[0],n=r[1];return Object(et.jsx)("div",{children:Object(et.jsx)("form",{onSubmit:function(t){t.preventDefault(),c&&e.push("/?searchTerm=".concat(c))},children:Object(et.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(et.jsx)("input",{type:"text",value:c,placeholder:"search products",className:"form-control",onChange:function(e){return n(e.target.value)}}),Object(et.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(et.jsx)("i",{className:"fas fa-search"})})]})})})};var Tt=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Object(s.c)((function(e){return e.userLoginReducer})).userInfo;return Object(et.jsx)("header",{children:Object(et.jsx)(Nt.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(et.jsxs)(ut.a,{children:[Object(et.jsx)(wt.LinkContainer,{to:"/",children:Object(et.jsx)(Nt.a.Brand,{children:Object(et.jsx)("i",{className:"mb-2 fas fa-home",children:" Home"})})}),Object(et.jsx)(Nt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(et.jsxs)(Nt.a.Collapse,{id:"basic-navbar-nav",children:[Object(et.jsxs)(Lt.a,{className:"mr-auto",children:[Object(et.jsx)(wt.LinkContainer,{to:"/",children:Object(et.jsx)(Lt.a.Link,{children:"All Products"})}),r&&r.admin?Object(et.jsx)(wt.LinkContainer,{to:"/new-product/",children:Object(et.jsx)(Lt.a.Link,{children:"Add Product"})}):"",Object(et.jsx)("span",{className:"",children:Object(et.jsx)(Dt,{})})]}),r?Object(et.jsx)("div",{children:Object(et.jsxs)(kt.a,{className:"navbar-nav text-capitalize",title:r.username,id:"username",children:[Object(et.jsx)(wt.LinkContainer,{to:"/account",children:Object(et.jsx)(kt.a.Item,{children:"Account Settings"})}),Object(et.jsx)(wt.LinkContainer,{to:"/all-addresses/",children:Object(et.jsx)(kt.a.Item,{children:"Address Settings"})}),Object(et.jsx)(wt.LinkContainer,{to:"/stripe-card-details/",children:Object(et.jsx)(kt.a.Item,{children:"Card Settings"})}),Object(et.jsx)(wt.LinkContainer,{to:"/all-orders/",children:Object(et.jsx)(kt.a.Item,{children:"All Orders"})}),Object(et.jsx)(kt.a.Item,{onClick:function(){t(yt()),e.push("/login"),window.location.reload()},children:"Logout"})]})}):Object(et.jsx)(wt.LinkContainer,{to:"/login",children:Object(et.jsxs)(Lt.a.Link,{children:[Object(et.jsx)("i",{className:"fas fa-user"})," Login"]})})]})]})})})},It=function(){var e=Object(Qe.l)();return function(){try{var t=e.state.detail;return Object(et.jsxs)("div",{children:[Object(et.jsx)("h3",{className:"text-success",children:"Payment was Successfull"}),Object(et.jsxs)(nt.a,{className:"p-3",children:["Successfully bought",Object(et.jsx)("br",{}),Object(et.jsxs)("span",{className:"mb-2",style:{display:"flex"},children:[t.name,", \u20b9",t.price," ",Object(et.jsx)("i",{className:"text-primary ml-1 mt-1 fas fa-check-circle"})]}),Object(et.jsx)(Xe.Link,{to:"/all-orders/",children:"Go to orders page"})]})]})}catch(r){return Object(et.jsx)(tt,{variant:"info",children:"Payment status not available."})}}()};var Ut=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(dt.a)(r,2),n=c[0],o=c[1],d=Object(a.useState)(""),i=Object(dt.a)(d,2),l=i[0],u=i[1],j=Object(s.b)(),b=Object(s.c)((function(e){return e.userLoginReducer})),p=b.error,O=b.userInfo;return Object(a.useEffect)((function(){O&&t.push("/")}),[t,O]),Object(et.jsx)("div",{children:Object(et.jsx)(at.a,{className:"justify-content-md-center",children:Object(et.jsxs)(ct.a,{xs:12,md:6,children:[Object(et.jsx)("h1",{children:"Sign In"}),p&&Object(et.jsx)(tt,{variant:"danger",children:p}),Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault(),j(function(e,t){return function(){var r=Object(Je.a)(Me.a.mark((function r(a){var c,n,s;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:W}),c={headers:{"Content-type":"application/json"}},r.next=5,We.a.post("/account/login/",{username:e,password:t},c);case 5:n=r.sent,s=n.data,a({type:Z,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:$,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(n,l))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"username",children:[Object(et.jsx)(pt.a.Label,{children:"Username"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"enter username",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"password",children:[Object(et.jsx)(pt.a.Label,{children:"Password"}),Object(et.jsx)(pt.a.Control,{type:"password",placeholder:"enter your password",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(et.jsx)(at.a,{className:"py-3",children:Object(et.jsxs)(ct.a,{children:["Do not have an account?",Object(et.jsx)(Xe.Link,{to:"/register",children:" Register"})]})})]})})})};var Pt=function(e){var t=e.history,r=(e.variant,Object(a.useState)("")),c=Object(dt.a)(r,2),n=c[0],o=c[1],d=Object(a.useState)(""),i=Object(dt.a)(d,2),l=i[0],u=i[1],j=Object(a.useState)(""),b=Object(dt.a)(j,2),p=b[0],O=b[1],h=Object(a.useState)(""),x=Object(dt.a)(h,2),m=x[0],f=x[1],y=Object(a.useState)(""),g=Object(dt.a)(y,2),v=g[0],C=g[1],S=Object(s.b)(),E=Object(s.c)((function(e){return e.userRegisterReducer})),_=E.error,R=E.userInfo;return Object(a.useEffect)((function(){R&&t.push("/")}),[t,R]),Object(et.jsx)("div",{children:Object(et.jsx)(at.a,{className:"justify-content-md-center",children:Object(et.jsxs)(ct.a,{xs:12,md:6,children:[Object(et.jsx)("h1",{children:"Sign Up"}),v&&Object(et.jsx)(tt,{variant:"danger",children:v}),_&&Object(et.jsx)(tt,{variant:"danger",children:_}),Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault(),p!==m?C("Passwords do not match!"):S(function(e,t,r){return function(){var a=Object(Je.a)(Me.a.mark((function a(c){var n,s,o;return Me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:te}),n={headers:{"Content-type":"application/json"}},a.next=5,We.a.post("/account/register/",{username:e,email:t,password:r},n);case 5:s=a.sent,o=s.data,c({type:re,payload:o}),c({type:Z,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),c({type:ae,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(n,l,p))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"name",children:[Object(et.jsx)(pt.a.Label,{children:"Username"}),Object(et.jsx)(pt.a.Control,{required:!0,type:"text",placeholder:"enter your username",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"email",children:[Object(et.jsx)(pt.a.Label,{children:"Email Address"}),Object(et.jsx)(pt.a.Control,{required:!0,type:"email",placeholder:"enter your email",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"password",children:[Object(et.jsx)(pt.a.Label,{children:"Password"}),Object(et.jsx)(pt.a.Control,{required:!0,type:"password",placeholder:"enter your password",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"passwordConfirm",children:[Object(et.jsx)(pt.a.Label,{children:"Confirm Password"}),Object(et.jsx)(pt.a.Control,{required:!0,type:"password",placeholder:"confirm your password",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"primary",children:"Sign Up"})]}),Object(et.jsx)(at.a,{className:"py-3",children:Object(et.jsxs)(ct.a,{children:["Already have an account?",Object(et.jsx)(Xe.Link,{to:"/login",children:" Login"})]})})]})})})},Gt=function(){var e=Object(Qe.k)(),t=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,r=Object(s.b)(),c=Object(a.useState)(""),n=Object(dt.a)(c,2),o=n[0],d=n[1],i=Object(a.useState)(""),l=Object(dt.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(""),p=Object(dt.a)(b,2),O=p[0],h=p[1],x=Object(a.useState)(""),m=Object(dt.a)(x,2),f=m[0],y=m[1],g=Object(a.useState)(""),v=Object(dt.a)(g,2),C=v[0],S=v[1],E=Object(a.useState)(""),_=Object(dt.a)(E,2),R=_[0],A=_[1],N=Object(a.useState)(""),L=Object(dt.a)(N,2),k=L[0],w=L[1],D=Object(a.useState)(""),T=Object(dt.a)(D,2),I=T[0],U=T[1],P=Object(a.useState)(""),G=Object(dt.a)(P,2),V=G[0],F=G[1],B=Object(a.useState)(""),H=Object(dt.a)(B,2),z=H[0],q=H[1],X=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,Q=Object(s.c)((function(e){return e.savedCardsListReducer})),W=Q.stripeCards,Z=Q.loading,$=Object(s.c)((function(e){return e.updateStripeCardtReducer})).success;Object(a.useEffect)((function(){X?(r(gt()),r(ht())):e.push("/login")}),[r,e,X,$]),X&&"Request failed with status code 401"===t&&(alert("Session expired, please login again."),r(yt()),e.push("/login"),window.location.reload());var ee=function(e){var t;(e.preventDefault(),V&&z)&&r((t={card_number:o,customer_id:V,card_id:z,exp_month:O,exp_year:f,name_on_card:u,address_city:C,address_country:R,address_state:k,address_zip:I},function(){var e=Object(Je.a)(Me.a.mark((function e(r,a){var c,n,s,o,d;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Y}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},e.next=6,We.a.post("/payments/update-card/",t,s);case 6:o=e.sent,d=o.data,r({type:M,payload:d}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r({type:J,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))};return $&&(alert("Card Successfully Updated"),e.push("/stripe-card-details"),r({type:K})),Object(et.jsx)("div",{children:Object(et.jsx)(at.a,{className:"justify-content-md-center",children:Object(et.jsxs)(ct.a,{xs:12,md:6,children:[Object(et.jsx)("span",{className:"d-flex justify-content-center",style:{display:"flex",marginBottom:"15px",color:"#008080"},children:Object(et.jsx)("em",{children:"Update Card Details"})}),Z&&Object(et.jsx)(rt.a,{animation:"border"}),W.map((function(t,r){return Object(et.jsx)("div",{children:Object(et.jsx)(nt.a,{className:"p-4 mb-4",style:{border:"1px solid",borderColor:"#C6ACE7"},children:Object(et.jsxs)(pt.a,{onSubmit:ee,children:[Object(et.jsxs)(pt.a.Group,{controlId:"name",children:[Object(et.jsx)(pt.a.Label,{children:"Name on Card"}),Object(et.jsx)(pt.a.Control,{autoFocus:!0,type:"text",defaultValue:t.name_on_card,placeholder:"full name",onChange:function(e){return j(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"month",children:[Object(et.jsx)(pt.a.Label,{children:"Exp Month"}),Object(et.jsx)(pt.a.Control,{type:"text",pattern:"[0-9]+",maxLength:"2",defaultValue:t.exp_month,placeholder:"exp month",onChange:function(e){return h(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"year",children:[Object(et.jsx)(pt.a.Label,{children:"Exp Year"}),Object(et.jsx)(pt.a.Control,{type:"text",pattern:"[0-9]+",defaultValue:t.exp_year,placeholder:"exp year",maxLength:"4",onChange:function(e){return y(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"city",children:[Object(et.jsx)(pt.a.Label,{children:"Address City"}),Object(et.jsx)(pt.a.Control,{type:"text",defaultValue:t.address_city,placeholder:"address city",onChange:function(e){return S(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"country",children:[Object(et.jsx)(pt.a.Label,{children:"Address Country"}),Object(et.jsx)(pt.a.Control,{type:"text",defaultValue:t.address_country,placeholder:"address country",onChange:function(e){return A(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"state",children:[Object(et.jsx)(pt.a.Label,{children:"Address State"}),Object(et.jsx)(pt.a.Control,{type:"text",defaultValue:t.address_state,placeholder:"address state",onChange:function(e){return w(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"zip",children:[Object(et.jsx)(pt.a.Label,{children:"Address Zip"}),Object(et.jsx)(pt.a.Control,{type:"text",defaultValue:t.address_zip,placeholder:"address zip",pattern:"[0-9]+",maxLength:"6",onChange:function(e){return U(e.target.value)}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"success",onClick:function(){return e=t.customer_id,r=t.card_id,a=t.card_number,F(e),q(r),void d(a);var e,r,a},style:{width:"100%"},className:"btn-sm button-focus-css",children:"Save Changes"}),Object(et.jsx)(lt.a,{type:"submit",variant:"primary",onClick:function(){return e.push("/stripe-card-details/")},style:{width:"100%"},className:"btn-sm mt-2 button-focus-css",children:"Cancel"})]})})},r)}))]})})})},Vt=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Object(a.useState)(0),c=Object(dt.a)(r,2),n=c[0],o=c[1],d=Object(a.useState)(!1),i=Object(dt.a)(d,2),l=i[0],u=i[1],j=Object(a.useState)(""),b=Object(dt.a)(j,2),p=b[0],O=b[1],h=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,x=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,m=Object(s.c)((function(e){return e.savedCardsListReducer})),f=m.stripeCards,y=m.loading,g=Object(s.c)((function(e){return e.deleteSavedCardReducer})).success;return Object(a.useEffect)((function(){h?(t(gt()),t(ht())):e.push("/login")}),[t,e,h]),h&&"Request failed with status code 401"===x&&(alert("Session expired, please login again."),t(yt()),e.push("/login"),window.location.reload()),g&&(alert("Card successfully deleted."),window.location.reload()),Object(et.jsxs)("div",{children:[y&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting Card Information"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),Object(et.jsx)("div",{children:Object(et.jsx)(et.Fragment,{children:Object(et.jsx)(xt,{userId:n,deleteCardNumber:p,runCardDeleteHandler:l,toggleRunCardDeleteHandler:function(){u(!l)}})})}),f.length>0?f.map((function(e,t){return Object(et.jsxs)("div",{children:[Object(et.jsxs)(ut.a,{children:[Object(et.jsxs)(at.a,{className:"mr-6 mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Name on Card:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.name_on_card?Object(et.jsx)("span",{children:e.name_on_card}):"Not Set"})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Exp Month:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.exp_month?e.exp_month:"Not Set"})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Exp Year:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.exp_year?e.exp_year:"Not Set"})]}),Object(et.jsxs)(at.a,{className:"mr-6 mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Address City:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.address_city?e.address_city:"Not Set"})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Address Country:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.address_country?e.address_country:"Not Set"})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Address State:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.address_state?e.address_state:"Not Set"})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Address Zip:"}),Object(et.jsx)(ct.a,{className:"p-3",children:e.address_zip?e.address_zip:"Not Set"})]})]}),Object(et.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(et.jsx)(Xe.Link,{to:"/stripe-card-update/",children:"Update Card details"}),Object(et.jsx)("span",{className:"ml-1 text-primary",children:"| "}),Object(et.jsx)("span",{className:"ml-1"}),Object(et.jsx)(Xe.Link,{to:"#",onClick:function(){O(e.card_number),o(e.user),u(!l)},children:"Delete Card"})]})]},t)})):Object(et.jsx)("div",{children:Object(et.jsx)(tt,{variant:"info",children:"Card details not available."})})]})};var Ft=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,c=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,n=Object(s.c)((function(e){return e.userDetailsReducer})),o=n.user,d=n.loading;Object(a.useEffect)((function(){if(c)try{t(gt()),t(vt(c.id))}catch(r){e.push("/")}else e.push("/login")}),[e,c,t]);var i=function(){t(yt())};return c&&"Request failed with status code 401"===r&&(alert("Session expired, please login again."),t(yt()),e.push("/login"),window.location.reload()),function(){try{return Object(et.jsxs)("div",{children:[d&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting User Information"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),Object(et.jsxs)(ut.a,{children:[Object(et.jsxs)(at.a,{className:"mr-6 mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Name:"}),Object(et.jsx)(ct.a,{className:"p-3",children:o.username})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Email:"}),Object(et.jsx)(ct.a,{className:"p-3",children:o.email})]}),Object(et.jsxs)(at.a,{className:"mb-2 border border-dark",children:[Object(et.jsx)(ct.a,{xs:2,className:"p-3 bg-info text-white",children:"Admin Privileges:"}),Object(et.jsx)(ct.a,{className:"p-3",children:o.admin?"Yes":"No"})]})]}),Object(et.jsxs)("span",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(et.jsx)(Xe.Link,{to:"/account/update",children:"Update Account details"}),Object(et.jsx)("span",{className:"ml-1 text-primary",children:"| "}),Object(et.jsx)("span",{className:"ml-1"}),Object(et.jsx)(Xe.Link,{to:"/account/delete/",children:"Delete Account"})]})]})}catch(e){return Object(et.jsxs)(tt,{variant:"danger",children:["Something went wrong, go back to ",Object(et.jsx)(Xe.Link,{onClick:i,to:"/login",children:" Login"})," page."]})}}()};var Bt=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,c=Object(a.useState)(""),n=Object(dt.a)(c,2),o=n[0],d=n[1],i=Object(a.useState)(""),l=Object(dt.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(""),p=Object(dt.a)(b,2),O=p[0],h=p[1],x=Object(a.useState)(""),m=Object(dt.a)(x,2),f=m[0],y=m[1],g=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,v=Object(s.c)((function(e){return e.userDetailsReducer})),C=v.user,S=v.loading,E=Object(s.c)((function(e){return e.userDetailsUpdateReducer})).success;Object(a.useEffect)((function(){g||e.push("/login"),t(gt()),t(vt(g.id))}),[t,e,g]),g&&"Request failed with status code 401"===r&&(alert("Session expired, please login again."),t(yt()),e.push("/login"),window.location.reload());var _=function(e){e.preventDefault();var r=""===o?C.username:o,a=""===u?C.email:u;O!==f?alert("Passwords do not match"):t(function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:oe}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.put("/account/user_update/".concat(n.id,"/"),{username:e.username,email:e.email,password:e.password},s);case 6:o=t.sent,d=o.data,r({type:de,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ie,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({username:r,email:a,password:O}))},R=function(){e.push("/login"),t(yt())};return E&&(alert("Account successfully updated."),t({type:le}),e.push("/account/"),t(vt(g.id))),function(){try{return Object(et.jsx)("div",{children:Object(et.jsx)(at.a,{className:"justify-content-md-center",children:Object(et.jsxs)(ct.a,{xs:12,md:6,children:[Object(et.jsx)("span",{className:"d-flex justify-content-center",style:{display:"flex",marginBottom:"15px",color:"#008080"},children:Object(et.jsx)("em",{children:"Update User Details"})}),S&&Object(et.jsx)(rt.a,{animation:"border"}),Object(et.jsxs)(pt.a,{onSubmit:_,children:[Object(et.jsxs)(pt.a.Group,{controlId:"username",children:[Object(et.jsx)(pt.a.Label,{children:"Username"}),Object(et.jsx)(pt.a.Control,{autoFocus:!0,type:"text",defaultValue:C.username,placeholder:"username",onChange:function(e){return d(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"email",children:[Object(et.jsx)(pt.a.Label,{children:"Email Address"}),Object(et.jsx)(pt.a.Control,{type:"email",placeholder:"enter email",defaultValue:C.email,onChange:function(e){return j(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"password",children:[Object(et.jsx)(pt.a.Label,{children:"Reset-Password"}),Object(et.jsx)(pt.a.Control,{type:"password",placeholder:"enter new password",onChange:function(e){return h(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"confirmPassword",children:[Object(et.jsx)(pt.a.Label,{children:"Confirm Password"}),Object(et.jsx)(pt.a.Control,{type:"password",placeholder:"confirm new password",onChange:function(e){return y(e.target.value)}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"success",className:"btn-sm",children:"Save Changes"}),Object(et.jsx)(Xe.Link,{to:"/account",children:Object(et.jsx)("button",{className:"btn btn-primary btn-sm ml-2",type:"button",children:"Cancel"})})]})]})})})}catch(e){return Object(et.jsxs)(tt,{variant:"danger",children:["Something went wrong, go back to ",Object(et.jsx)(Xe.Link,{onClick:R,to:"/login",children:" Login"})," page."]})}}()};var Ht=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Object(a.useState)(""),c=Object(dt.a)(r,2),n=c[0],o=c[1],d=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,i=Object(s.c)((function(e){return e.deleteUserAccountReducer})),l=i.success,u=i.loading,j=i.error;return l&&(alert("Account successfully deleted."),t({type:pe}),t(yt()),e.push("/login"),window.location.reload()),Object(et.jsx)("div",{children:Object(et.jsx)(at.a,{className:"justify-content-md-center",children:Object(et.jsxs)(ct.a,{xs:12,md:6,children:[Object(et.jsx)("h3",{children:"Confirm your password to delete your account."}),u&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Please wait"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),j&&Object(et.jsx)(tt,{variant:"danger",children:"Incorrect Password!"}),Object(et.jsx)("div",{className:"mt-4",children:Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault();var r={id:d.id,password:n};t(gt()),t(function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ue}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.post("/account/user_delete/".concat(e.id,"/"),{password:e.password},s);case 6:o=t.sent,d=o.data,r({type:je,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:be,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"password",children:[Object(et.jsx)(pt.a.Label,{children:"Password"}),Object(et.jsx)(pt.a.Control,{required:!0,type:"password",placeholder:"enter your password",value:n,onChange:function(e){return o(e.target.value)}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"danger",children:"Confirm Delete"})]})})]})})})},zt=r(120),qt=function(e){var t=e.toggleCreateAddress,r=Object(s.b)(),c=Object(a.useState)(""),n=Object(dt.a)(c,2),o=n[0],d=n[1],i=Object(a.useState)(""),l=Object(dt.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(""),p=Object(dt.a)(b,2),O=p[0],h=p[1],x=Object(a.useState)(""),m=Object(dt.a)(x,2),f=m[0],y=m[1],g=Object(a.useState)(""),v=Object(dt.a)(g,2),C=v[0],S=v[1],E=Object(a.useState)(""),_=Object(dt.a)(E,2),R=_[0],A=_[1],N=Object(a.useState)(""),L=Object(dt.a)(N,2),k=L[0],w=L[1],D=Object(s.c)((function(e){return e.createUserAddressReducer})),T=D.success,I=D.error;return T&&(alert("Address successfully created."),t(),r({type:Ee}),r(Ct())),Object(et.jsxs)("div",{children:[Object(et.jsx)("p",{className:"text-center text-info",children:Object(et.jsx)("em",{children:"New Address"})}),I?Object(et.jsx)(tt,{variant:"danger",children:I}):"",Object(et.jsx)(nt.a,{className:"mx-auto mb-4",style:{width:"50%",border:"1px solid",borderColor:"#C6ACE7"},children:Object(et.jsx)(nt.a.Body,{children:Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault(),r(function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ve}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.post("/account/create-address/",e,s);case 6:o=t.sent,d=o.data,r({type:Ce,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Se,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({name:o,phone_number:u,pin_code:O,house_no:f,landmark:C,city:R,state:k}))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"name",children:[Object(et.jsx)(pt.a.Label,{children:"Name"}),Object(et.jsx)(pt.a.Control,{autoFocus:!0,type:"text",placeholder:"enter your name",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"phoneNumber",children:[Object(et.jsx)(pt.a.Label,{children:"Phone Number"}),Object(et.jsxs)(zt.a,{children:[Object(et.jsx)(zt.a.Text,{children:"+91"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"phone number",pattern:"[0-9]+",maxLength:"10",value:u,onChange:function(e){return j(e.target.value)}})]})]}),Object(et.jsxs)(pt.a.Group,{controlId:"pinCode",children:[Object(et.jsx)(pt.a.Label,{children:"Pin Code"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"pin code",value:O,pattern:"[0-9]+",maxLength:"6",onChange:function(e){return h(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"houseNumber",children:[Object(et.jsx)(pt.a.Label,{children:"House No./Address"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"house number",value:f,onChange:function(e){return y(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"landmark",children:[Object(et.jsx)(pt.a.Label,{children:"Landmark"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"landmark",value:C,onChange:function(e){return S(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"city",children:[Object(et.jsx)(pt.a.Label,{children:"City"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"city",value:R,onChange:function(e){return A(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"state",children:[Object(et.jsx)(pt.a.Label,{children:"State"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"state",value:k,onChange:function(e){return w(e.target.value)}})]}),Object(et.jsx)(lt.a,{style:{width:"100%"},className:"btn-sm",type:"submit",variant:"success",children:"Save Address"}),Object(et.jsx)(lt.a,{style:{width:"100%"},className:"btn-sm mt-2",variant:"primary",onClick:function(){return t()},children:"Cancel"})]})})})]})};var Xt=function(){var e=Object(Qe.k)(),t=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,r=Object(s.b)(),c=Object(a.useState)(""),n=Object(dt.a)(c,2),o=n[0],d=n[1],i=Object(a.useState)(!1),l=Object(dt.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(!1),p=Object(dt.a)(b,2),O=p[0],h=p[1],x=function(){return h(!1)},m=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,f=Object(s.c)((function(e){return e.getAllAddressesOfUserReducer})),y=f.addresses,g=f.loading,v=Object(s.c)((function(e){return e.deleteUserAddressReducer})).success;Object(a.useEffect)((function(){m?(r(gt()),r(Ct()),r({type:ge})):e.push("/login")}),[r,e,m,v]),m&&"Request failed with status code 401"===t&&(alert("Session expired, please login again."),r(yt()),e.push("/login"),window.location.reload()),v&&(alert("Address successfully deleted."),r({type:De}),r(Ct()));var C=function(e){d(e),h(!0)},S=function(e){r(function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Le}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.delete("/account/delete-address/".concat(e,"/"),s);case 6:o=t.sent,d=o.data,r({type:ke,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:we,payload:t.t0.response&&t.t0.response.data.details?t.t0.response.data.details:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e)),x()},E=function(){j(!u)};return Object(et.jsxs)("div",{children:[Object(et.jsx)("div",{children:Object(et.jsx)(et.Fragment,{children:Object(et.jsxs)(it.a,{show:O,onHide:x,children:[Object(et.jsx)(it.a.Header,{closeButton:!0,children:Object(et.jsxs)(it.a.Title,{children:[Object(et.jsx)("i",{style:{color:"#e6e600"},className:"fas fa-exclamation-triangle"})," ","Delete Confirmation"]})}),Object(et.jsxs)(it.a.Body,{children:["Are you sure you want to delete this address"," ",Object(et.jsxs)("em",{children:['"',o.house_no,", ",o.city,", ",o.state,'"']}),"?"]}),Object(et.jsxs)(it.a.Footer,{children:[Object(et.jsx)(lt.a,{variant:"danger",onClick:function(){return S(o.id)},children:"Confirm Delete"}),Object(et.jsx)(lt.a,{variant:"primary",onClick:x,children:"Cancel"})]})]})})}),g&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting addresses"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),u?Object(et.jsx)("div",{children:Object(et.jsx)(qt,{toggleCreateAddress:E})}):Object(et.jsx)("button",{className:"btn btn-sm btn-primary mb-2 button-focus-css",onClick:function(){return E()},children:"Add new address +"}),y&&!u?y.map((function(t,r){return Object(et.jsx)("div",{children:Object(et.jsxs)(nt.a,{className:"p-2 mb-2",style:{border:"1px solid",borderColor:"#C6ACE7"},children:[Object(et.jsxs)("span",{children:[Object(et.jsx)("b",{children:"Name: "}),t.name]}),Object(et.jsxs)("span",{children:[Object(et.jsx)("b",{children:"Phone No: "}),"+91 ",t.phone_number]}),Object(et.jsxs)("span",{children:[Object(et.jsx)("b",{children:"Address: "}),t.house_no,", near ",t.landmark,", ",t.city,", ",t.state,",",t.pin_code,Object(et.jsx)("span",{onClick:function(){return C(t)},children:Object(et.jsx)("i",{title:"delete address",className:"mt-2 fas fa-trash-alt fa-lg delete-button-css"})}),Object(et.jsx)("span",{onClick:function(){return e.push("/all-addresses/".concat(t.id,"/"))},children:Object(et.jsx)("i",{title:"edit address",className:"mt-2 mr-2 fas fa-edit fa-lg edit-button-css"})})]})]},t.id)},r)})):""]})},Qt=function(e){var t=e.match,r=Object(Qe.k)(),c=Object(s.b)(),n=Object(a.useState)(""),o=Object(dt.a)(n,2),d=o[0],i=o[1],l=Object(a.useState)(""),u=Object(dt.a)(l,2),j=u[0],b=u[1],p=Object(a.useState)(""),O=Object(dt.a)(p,2),h=O[0],x=O[1],m=Object(a.useState)(""),f=Object(dt.a)(m,2),y=f[0],g=f[1],v=Object(a.useState)(""),C=Object(dt.a)(v,2),S=C[0],E=C[1],_=Object(a.useState)(""),R=Object(dt.a)(_,2),A=R[0],N=R[1],L=Object(a.useState)(""),k=Object(dt.a)(L,2),w=k[0],D=k[1],T=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,I=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error,U=Object(s.c)((function(e){return e.getSingleAddressReducer})),P=U.address,G=U.error,V=Object(s.c)((function(e){return e.updateUserAddressReducer})).success;Object(a.useEffect)((function(){T?(c(gt()),c(St(t.params.id))):r.push("/login")}),[c,r,T,t]),T&&"Request failed with status code 401"===I&&(alert("Session expired, please login again."),c(yt()),r.push("/login"),window.location.reload());return V&&(alert("Address updated successfully."),c({type:Ne}),r.push("/all-addresses/"),c(Ct())),Object(et.jsxs)("div",{children:[Object(et.jsx)("p",{className:"text-center text-info",children:Object(et.jsx)("em",{children:"Update Address"})}),G&&Object(et.jsx)("h3",{children:"Invalid Address Request"}),Object(et.jsx)(nt.a,{className:"mx-auto mb-4",style:{width:"50%",border:"1px solid",borderColor:"#C6ACE7"},children:Object(et.jsx)(nt.a.Body,{children:Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault();var r,a,n={name:d,phone_number:j,pin_code:h,house_no:y,landmark:S,city:A,state:w};c((r=t.params.id,a=n,function(){var e=Object(Je.a)(Me.a.mark((function e(t,c){var n,s,o,d,i;return Me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:_e}),n=c(),s=n.userLoginReducer.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,We.a.put("/account/update-address/".concat(r,"/"),a,o);case 6:d=e.sent,i=d.data,t({type:Re,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ae,payload:e.t0.response&&e.t0.response.data.details?e.t0.response.data.details:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"name",children:[Object(et.jsx)(pt.a.Label,{children:"Name"}),Object(et.jsx)(pt.a.Control,{autoFocus:!0,type:"text",placeholder:"enter your name",defaultValue:P?P.name:"",onChange:function(e){return i(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"phoneNumber",children:[Object(et.jsx)(pt.a.Label,{children:"Phone Number"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"phone number",pattern:"[0-9]+",maxLength:"10",defaultValue:P?P.phone_number:"",onChange:function(e){return b(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"pinCode",children:[Object(et.jsx)(pt.a.Label,{children:"Pin Code"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"pin code",defaultValue:P?P.pin_code:"",pattern:"[0-9]+",maxLength:"6",onChange:function(e){return x(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"houseNumber",children:[Object(et.jsx)(pt.a.Label,{children:"House No./Address"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"house number",defaultValue:P?P.house_no:"",onChange:function(e){return g(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"landmark",children:[Object(et.jsx)(pt.a.Label,{children:"Landmark"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"landmark",defaultValue:P?P.landmark:"",onChange:function(e){return E(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"city",children:[Object(et.jsx)(pt.a.Label,{children:"City"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"city",defaultValue:P?P.city:"",onChange:function(e){return N(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"state",children:[Object(et.jsx)(pt.a.Label,{children:"State"}),Object(et.jsx)(pt.a.Control,{type:"text",placeholder:"state",defaultValue:P?P.state:"",onChange:function(e){return D(e.target.value)}})]}),Object(et.jsx)(lt.a,{style:{width:"100%"},className:"btn-sm",type:"submit",variant:"success",children:"Save Changes"}),Object(et.jsx)(lt.a,{style:{width:"100%"},className:"btn-sm mt-2",variant:"primary",onClick:function(){return r.push("/all-addresses/")},children:"Cancel"})]})})})]})},Yt=r(121),Mt=function(e){var t=e.slice(8,10),r=e.slice(5,7),a=e.slice(0,4);switch(r){case"01":return"".concat(t," January ").concat(a);case"02":return"".concat(t," Feburary ").concat(a);case"03":return"".concat(t," March ").concat(a);case"04":return"".concat(t," April ").concat(a);case"05":return"".concat(t," May ").concat(a);case"06":return"".concat(t," June ").concat(a);case"07":return"".concat(t," July ").concat(a);case"08":return"".concat(t," August ").concat(a);case"09":return"".concat(t," September ").concat(a);case"10":return"".concat(t," October ").concat(a);case"11":return"".concat(t," November ").concat(a);case"12":return"".concat(t," December ").concat(a);default:return null}},Jt=function(e){var t=e.handleSearchTerm,r=e.placeholderValue,c=Object(a.useState)(""),n=Object(dt.a)(c,2),s=n[0],o=n[1];return Object(et.jsx)("div",{children:Object(et.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(s)},children:Object(et.jsxs)("span",{style:{display:"flex"},className:"",children:[Object(et.jsx)("input",{type:"text",value:s,placeholder:r,className:"form-control",onChange:function(e){return o(e.target.value)}}),Object(et.jsx)("button",{type:"submit",className:"btn btn-primary ml-2 button-focus-css",children:Object(et.jsx)("i",{className:"fas fa-search"})})]})})})};var Kt=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Mt((new Date).toISOString().slice(0,10)),c=Object(a.useState)(r),n=Object(dt.a)(c,1)[0],o=Object(a.useState)(0),d=Object(dt.a)(o,2),i=d[0],l=d[1],u=Object(a.useState)(""),j=Object(dt.a)(u,2),b=j[0],p=j[1],O=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,h=Object(s.c)((function(e){return e.getAllOrdersReducer})),x=h.orders,m=h.loading,f=Object(s.c)((function(e){return e.changeDeliveryStatusReducer})),y=f.success,g=f.loading,v=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error;Object(a.useEffect)((function(){O?(t(gt()),t(Et())):e.push("/login")}),[O,t,e]),O&&"Request failed with status code 401"===v&&(alert("Session expired, please login again."),t(yt()),e.push("/login"),window.location.reload());var C=function(e,r){l(e),t(function(e,t){return function(){var r=Object(Je.a)(Me.a.mark((function r(a,c){var n,s,o,d,i;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:Pe}),n=c(),s=n.userLoginReducer.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},r.next=6,We.a.put("/account/change-order-status/".concat(e,"/"),t,o);case 6:d=r.sent,i=d.data,a({type:Ge,payload:i}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:Ve,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(e,{is_delivered:r,delivered_at:r?n:"Not Delivered"}))};return y&&(alert("Delivery status changed successfully"),t({type:Fe}),t(Et())),Object(et.jsxs)("div",{children:[m&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting Orders"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),O.admin&&Object(et.jsx)(Jt,{handleSearchTerm:function(e){p(e)},placeholderValue:"Search orders by Customer Name, Address or by Ordered Item"}),x.length>0?Object(et.jsxs)(Yt.a,{className:"mt-2",striped:!0,bordered:!0,children:[Object(et.jsx)("thead",{children:Object(et.jsxs)("tr",{className:"p-3 bg-info text-white text-center",children:[Object(et.jsx)("th",{children:"Order Id"}),Object(et.jsx)("th",{children:"Customer Name"}),Object(et.jsx)("th",{children:"Card Used"}),Object(et.jsx)("th",{children:"Delivery Address"}),Object(et.jsx)("th",{children:"Ordered Item"}),Object(et.jsx)("th",{children:"Paid Status"}),Object(et.jsx)("th",{children:"Paid On"}),Object(et.jsx)("th",{children:"Total Amount"}),Object(et.jsx)("th",{children:"Delivered Status"}),Object(et.jsx)("th",{children:"Delivered On"}),O.admin&&Object(et.jsx)("th",{children:"Delivery Status"})]})}),x.filter((function(e){return e.name.toLowerCase().includes(b)||e.ordered_item.toLowerCase().includes(b)||e.address.toLowerCase().includes(b)})).map((function(e,t){return Object(et.jsx)("tbody",{children:Object(et.jsxs)("tr",{className:"text-center",children:[Object(et.jsx)("td",{children:e.id}),Object(et.jsx)("td",{children:e.name}),Object(et.jsx)("td",{children:e.card_number}),Object(et.jsx)("td",{children:e.address}),Object(et.jsx)("td",{children:e.ordered_item}),Object(et.jsx)("td",{children:e.paid_status?Object(et.jsx)("i",{className:"fas fa-check-circle text-success"}):Object(et.jsx)("i",{className:"fas fa-times-circle text-danger"})}),Object(et.jsx)("td",{children:Mt(e.paid_at)}),Object(et.jsxs)("td",{children:[e.total_price," INR"]}),Object(et.jsx)("td",{children:e.is_delivered?Object(et.jsx)("i",{className:"fas fa-check-circle text-success"}):Object(et.jsx)("i",{className:"fas fa-times-circle text-danger"})}),Object(et.jsx)("td",{children:e.delivered_at}),O.admin&&Object(et.jsx)("td",{children:e.is_delivered?Object(et.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){return C(e.id,!1)},children:g&&i===e.id?Object(et.jsx)(rt.a,{animation:"border"}):"Mark as Undelivered"}):Object(et.jsx)("button",{className:"btn btn-outline-primary btn-sm",onClick:function(){return C(e.id,!0)},children:g&&i===e.id?Object(et.jsx)(rt.a,{animation:"border"}):"Mark as delivered"})})]})},t)}))]}):Object(et.jsx)(tt,{variant:"info",children:"No orders yet."})]})},Wt=function(){var e=Object(Qe.k)(),t=Object(s.b)(),r=Object(a.useState)(""),c=Object(dt.a)(r,2),n=c[0],o=c[1],d=Object(a.useState)(""),i=Object(dt.a)(d,2),l=i[0],u=i[1],j=Object(a.useState)(""),b=Object(dt.a)(j,2),p=b[0],O=b[1],h=Object(a.useState)(!1),g=Object(dt.a)(h,2),v=g[0],C=g[1],S=Object(a.useState)(null),E=Object(dt.a)(S,2),_=E[0],R=E[1],A=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,N=Object(s.c)((function(e){return e.createProductReducer})),L=N.product,k=N.success,w=N.error,D=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error;Object(a.useEffect)((function(){A||e.push("/login"),t(gt())}),[t,A,e]);return k&&(alert("Product successfully created."),e.push("/product/".concat(L.id,"/")),t({type:y})),A&&"Request failed with status code 401"===D&&(alert("Session expired, please login again."),t(yt()),e.push("/login"),window.location.reload()),Object(et.jsxs)("div",{children:[w&&Object(et.jsx)(tt,{variant:"danger",children:w.image[0]}),Object(et.jsx)("span",{className:"d-flex justify-content-center text-info",children:Object(et.jsx)("em",{children:"New Product"})}),Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault();var r=new FormData;r.append("name",n),r.append("description",l),r.append("price",p),r.append("stock",v),r.append("image",_),t(function(e){return function(){var t=Object(Je.a)(Me.a.mark((function t(r,a){var c,n,s,o,d;return Me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:x}),c=a(),n=c.userLoginReducer.userInfo,s={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n.token)}},t.next=6,We.a.post("/api/product-create/",e,s);case 6:o=t.sent,d=o.data,r({type:m,payload:d}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:f,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"name",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Product Name"})}),Object(et.jsx)(pt.a.Control,{required:!0,autoFocus:!0,type:"text",value:n,placeholder:"product name",onChange:function(e){return o(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"description",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Product Description"})}),Object(et.jsx)(pt.a.Control,{required:!0,type:"text",value:l,placeholder:"product description",onChange:function(e){return u(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"price",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Price"})}),Object(et.jsx)(pt.a.Control,{required:!0,type:"text",pattern:"[0-9]+(\\.[0-9]{1,2})?%?",value:p,placeholder:"199.99",step:"0.01",maxLength:"8",onChange:function(e){return O(e.target.value)}})]}),Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("label",{children:"In Stock"}),Object(et.jsx)("input",{type:"checkbox",value:v,className:"ml-2 mt-2",onChange:function(){return C(!v)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"image",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Product Image"})}),Object(et.jsx)(pt.a.Control,{required:!0,type:"file",onChange:function(e){return R(e.target.files[0])}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"success",className:"btn-sm button-focus-css",children:"Save Product"}),Object(et.jsx)(lt.a,{type:"submit",variant:"primary",className:"btn-sm ml-2 button-focus-css",onClick:function(){return e.push("/")},children:"Cancel"})]})]})},Zt=function(e){var t=e.match,r=Object(s.c)((function(e){return e.productDetailsReducer})),c=r.loading,n=r.product,o=Object(a.useState)(""),d=Object(dt.a)(o,2),i=d[0],l=d[1],u=Object(a.useState)(""),j=Object(dt.a)(u,2),b=j[0],p=j[1],O=Object(a.useState)(""),h=Object(dt.a)(O,2),x=h[0],m=h[1],f=Object(a.useState)(n.stock),y=Object(dt.a)(f,2),E=y[0],_=y[1],R=Object(a.useState)(""),A=Object(dt.a)(R,2),N=A[0],L=A[1],k=Object(Qe.k)(),w=Object(s.b)(),D=Object(a.useState)(!1),T=Object(dt.a)(D,2),I=T[0],U=T[1],P=Object(s.c)((function(e){return e.userLoginReducer})).userInfo,G=Object(s.c)((function(e){return e.updateProductReducer})),V=G.success,F=G.loading,B=G.error,H=Object(s.c)((function(e){return e.checkTokenValidationReducer})).error;Object(a.useEffect)((function(){P&&P.admin||k.push("/login"),w(gt()),w(Ze(t.params.id))}),[w,P,k,t]);return V&&(alert("Product successfully updated."),w({type:S}),k.push("/product/".concat(n.id))),P&&"Request failed with status code 401"===H&&(alert("Session expired, please login again."),w(yt()),k.push("/login"),window.location.reload()),Object(et.jsxs)("div",{children:[Object(et.jsx)("span",{className:"d-flex justify-content-center text-info",children:Object(et.jsx)("em",{children:"Edit Product"})}),B?Object(et.jsxs)("div",{children:[void window.scrollTo({top:0,behavior:"smooth"}),Object(et.jsx)(tt,{variant:"danger",children:B.image[0]})]}):"",c&&Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Getting Product Details"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}),F?Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("h5",{children:"Updating Product"}),Object(et.jsx)("span",{className:"ml-2",children:Object(et.jsx)(rt.a,{animation:"border"})})]}):"",Object(et.jsxs)(pt.a,{onSubmit:function(e){e.preventDefault();var t=n.id,r=new FormData;r.append("name",i),r.append("description",b),r.append("price",x),r.append("stock",E),r.append("image",N),w(function(e,t){return function(){var r=Object(Je.a)(Me.a.mark((function r(a,c){var n,s,o,d,i;return Me.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:g}),n=c(),s=n.userLoginReducer.userInfo,o={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s.token)}},r.next=6,We.a.put("/api/product-update/".concat(e,"/"),t,o);case 6:d=r.sent,i=d.data,a({type:v,payload:i}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:C,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},children:[Object(et.jsxs)(pt.a.Group,{controlId:"image",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Product Image"})}),Object(et.jsx)("p",{children:Object(et.jsx)("img",{src:n.image,alt:n.name,height:"200"})}),I?Object(et.jsxs)("div",{children:[Object(et.jsx)(pt.a.Control,{type:"file",onChange:function(e){return L(e.target.files[0])}}),Object(et.jsx)("span",{onClick:function(){U(!I),L(""),w({type:S})},className:"btn btn-primary btn-sm mt-2",children:"Cancel"})]}):Object(et.jsx)("p",{children:Object(et.jsx)("span",{onClick:function(){return U(!I)},className:"btn btn-success btn-sm",children:"choose different image"})})]}),Object(et.jsxs)(pt.a.Group,{controlId:"name",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Product Name"})}),Object(et.jsx)(pt.a.Control,{autoFocus:!0,type:"text",defaultValue:n.name,placeholder:"product name",onChange:function(e){return l(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"description",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Product Description"})}),Object(et.jsx)(pt.a.Control,{type:"text",defaultValue:n.description,placeholder:"product description",onChange:function(e){return p(e.target.value)}})]}),Object(et.jsxs)(pt.a.Group,{controlId:"price",children:[Object(et.jsx)(pt.a.Label,{children:Object(et.jsx)("b",{children:"Price"})}),Object(et.jsx)(pt.a.Control,{type:"text",pattern:"[0-9]+(\\.[0-9]{1,2})?%?",defaultValue:n.price,placeholder:"199.99",step:"0.01",maxLength:"8",onChange:function(e){return m(e.target.value)}})]}),Object(et.jsxs)("span",{style:{display:"flex"},children:[Object(et.jsx)("label",{children:"In Stock"}),Object(et.jsx)("input",{type:"checkbox",defaultChecked:n.stock,className:"ml-2 mt-2",onChange:function(){return _(!E)}})]}),Object(et.jsx)(lt.a,{type:"submit",variant:"success",className:"btn-sm button-focus-css mb-4",children:"Save Changes"}),Object(et.jsx)(lt.a,{onClick:function(){return k.push("/product/".concat(n.id))},variant:"primary",className:"btn-sm ml-2 button-focus-css mb-4",children:"Cancel"})]})]})};var $t=function(){return Object(et.jsx)("div",{children:Object(et.jsx)(tt,{variant:"danger",children:"404 Not Found"})})},er=function(){return Object(et.jsx)("div",{children:Object(et.jsxs)(Xe.BrowserRouter,{children:[Object(et.jsx)(Tt,{}),Object(et.jsx)("div",{className:"container mt-4",children:Object(et.jsxs)(Qe.g,{children:[Object(et.jsx)(Qe.d,{path:"/",component:ot,exact:!0}),Object(et.jsx)(Qe.d,{path:"/new-product/",component:Wt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/product/:id/",component:jt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/product-update/:id/",component:Zt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/product/:id/checkout/",component:At,exact:!0}),Object(et.jsx)(Qe.d,{path:"/payment-status",component:It,exact:!0}),Object(et.jsx)(Qe.d,{path:"/login",component:Ut,exact:!0}),Object(et.jsx)(Qe.d,{path:"/register",component:Pt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/account",component:Ft,exact:!0}),Object(et.jsx)(Qe.d,{path:"/account/update/",component:Bt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/account/delete/",component:Ht,exact:!0}),Object(et.jsx)(Qe.d,{path:"/stripe-card-details",component:Vt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/stripe-card-update",component:Gt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/all-addresses/",component:Xt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/all-addresses/:id/",component:Qt,exact:!0}),Object(et.jsx)(Qe.d,{path:"/all-orders/",component:Kt,exact:!0}),Object(et.jsx)(Qe.d,{path:"",component:$t,exact:!0})]})})]})})};r(109);n.a.render(Object(et.jsx)(s.a,{store:qe,children:Object(et.jsx)(er,{})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.df6db103.chunk.js.map